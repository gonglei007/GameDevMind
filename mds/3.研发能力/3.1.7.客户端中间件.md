<h2 align="center">客户端中间件</h2>
<p>
市面上有很多可以被游戏开发者所使用的轮子，这能大大节省开发者的时间。目前所列出的主要是Unity的中间件，涵盖了GUI、资源管理、AI行为、日志、网络、动画、状态机等多个方面。
</p>

**关键词:**<br/>
*中间件,NGUI,UGUI,Playmaker,Spine,DOTween*

**标签:**<br/>
*等级: 初级|中级, 阶段: 学习|开发, 分类: 研发能力, 角色: 客户端开发*

## 图谱

## 中间件概览

## GUI

**是什么？在哪用？**

- **作用**：UI界面开发框架
- **应用场景**：
  - 所有需要UI的游戏项目
  - 游戏界面开发
  - UI系统构建
- **做什么的？** UI界面开发框架。
- **在哪用？** 所有需要UI的游戏项目。

**会遇到哪些问题？用什么解决？**

- **如何选择合适的UI框架？**
  - **问题**：不同UI框架有不同特点和适用场景
  - **解决方向**：
    - **NGUI：** 第三方UI框架
      - 特点：功能强大、性能好、需要购买
      - 适用：需要高性能UI的项目
    - **UGUI：** Unity官方UI系统
      - 特点：官方支持、免费、功能完善
      - 适用：大多数Unity项目
    - 根据项目需求和预算选择

- **UI框架性能优化**
  - **问题**：UI框架可能影响性能
  - **解决方向**：
    - 优化UI渲染批次
    - 使用UI图集
    - 实现UI对象池
    - 优化UI更新频率
    - 使用UI合批

**要点和思考方向：**
- **候选：**
  - **NGUI：** 第三方UI框架
  - **UGUI：** Unity官方UI系统
- 根据项目需求选择合适的UI框架
- 考虑UI框架的性能和维护成本

## 资源管理

**是什么？在哪用？**

- **作用**：游戏资源的管理和加载框架
- **应用场景**：
  - 所有需要资源管理的游戏项目
  - 资源加载和释放
  - 资源缓存管理
- **做什么的？** 游戏资源的管理和加载框架。
- **在哪用？** 所有需要资源管理的游戏项目。

**会遇到哪些问题？用什么解决？**

- **如何选择合适的资源管理框架？**
  - **问题**：不同资源管理框架有不同特点
  - **解决方向**：
    - **LoxodonFramework：** 功能完善的资源管理框架
      - 特点：支持异步加载、资源池、依赖管理
    - **Unity Addressables：** Unity官方资源管理系统
      - 特点：官方支持、功能强大、支持热更新
    - 根据项目需求选择合适的框架

- **资源管理性能优化**
  - **问题**：资源管理可能影响性能
  - **解决方向**：
    - 实现资源预加载
    - 使用资源池管理
    - 优化资源加载流程
    - 实现资源依赖管理
    - 优化资源内存使用

**要点和思考方向：**
- **候选：** LoxodonFramework
- 考虑资源管理框架的功能和性能
- 实现资源加载和释放的自动化管理

## AI行为

**是什么？在哪用？**

- **作用**：创建AI行为的工具和框架
- **应用场景**：
  - 需要AI控制的角色和NPC的游戏
  - NPC行为设计
  - 敌人AI
  - 智能角色
- **做什么的？** 创建AI行为的工具和框架。
- **在哪用？** 需要AI控制的角色和NPC的游戏。

**会遇到哪些问题？用什么解决？**

- **如何创建复杂的AI行为？**
  - **问题**：复杂AI行为需要强大的工具支持
  - **解决方向**：
    - 使用可视化脚本工具
    - 使用状态机或行为树
    - 实现分层AI系统
    - 使用数据驱动的AI设计
    - 优化AI性能

- **如何让非程序员也能创建AI行为？**
  - **问题**：需要让策划和美术也能参与AI设计
  - **解决方向**：
    - **编辑方式：**
      - 数据配表
      - 可视化脚本
    - 使用可视化工具（如Playmaker）
    - 提供友好的编辑界面
    - 实现AI行为模板
    - 建立AI设计规范

**要点和思考方向：**
- **编辑方式：**
  - 数据配表
  - 可视化脚本
- **候选：**
  - **Playmaker：** 一个多功能插件，提供基于图形工作流的界面来创建AI行为。Playmaker允许开发人员快速创建可用于创建复杂AI行为的参数、条件和操作。它还提供了各种内置的动作和条件，允许开发者创建复杂的AI行为，而无需编写一行代码
  - **uScript：** 一种功能强大的可视化脚本语言，旨在更轻松地创建AI行为。与Playmaker不同，uScript要求开发人员为其AI行为编写代码。然而，uScript也有一个广泛的内置函数和节点库，可以在几分钟内轻松创建复杂的AI行为

## 日志

**是什么？在哪用？**

- **作用**：日志记录和调试工具
- **应用场景**：
  - 开发和调试阶段
  - 问题排查
  - 性能分析
  - 运行时调试
- **做什么的？** 日志记录和调试工具。
- **在哪用？** 开发和调试阶段。

**会遇到哪些问题？用什么解决？**

- **如何选择合适的日志工具？**
  - **问题**：不同日志工具有不同特点
  - **解决方向**：
    - **ConsolePro：**
      - 特性：
        - 过滤日志消息
        - 在日志视图中进行搜索
        - 运行时将日志消息保存到文件中
        - 支持不同的日志级别
        - 内存垃圾收集器（可以帮助识别和解决内存泄漏问题）
    - **UnityIngameDebugConsole：**
      - 特性：
        - 更加轻量级
        - 过滤消息
        - 在运行时使用键盘快捷键来打开和关闭控制台
    - 根据项目需求选择合适的工具

- **日志系统设计**
  - **问题**：需要设计完善的日志系统
  - **解决方向**：
    - 实现日志分级（Debug、Info、Warning、Error）
    - 支持日志过滤和搜索
    - 实现日志文件保存
    - 优化日志性能
    - 实现日志上报

**要点和思考方向：**
- **候选：**
  - **ConsolePro：**
    - 特性：
      - 过滤日志消息
      - 在日志视图中进行搜索
      - 运行时将日志消息保存到文件中
      - 支持不同的日志级别
      - 内存垃圾收集器（可以帮助识别和解决内存泄漏问题）
  - **UnityIngameDebugConsole：**
    - 特性：
      - 更加轻量级
      - 过滤消息
      - 在运行时使用键盘快捷键来打开和关闭控制台

## 网络

**是什么？在哪用？**

- **作用**：网络通信框架
- **应用场景**：
  - 需要网络通信的游戏
  - HTTP请求
  - WebSocket连接
  - 文件下载
- **做什么的？** 网络通信框架。
- **在哪用？** 需要网络通信的游戏。

**会遇到哪些问题？用什么解决？**

- **如何选择合适的网络框架？**
  - **问题**：不同网络框架有不同特点
  - **解决方向**：
    - **Best HTTP：** 功能强大的HTTP框架
      - 特点：支持HTTP/HTTPS、WebSocket、文件下载
    - **UnityWebRequest：** Unity官方网络API
      - 特点：官方支持、免费、功能基础
    - 根据项目需求选择合适的框架

- **网络框架功能需求**
  - **问题**：需要网络框架支持多种功能
  - **解决方向**：
    - 支持HTTP/HTTPS
    - 支持WebSocket
    - 支持文件下载
    - 支持断点续传
    - 支持多线程
    - 支持异常处理和重试

**要点和思考方向：**
- **候选：** Best HTTP
- 考虑网络框架的功能完整性和性能
- 实现完善的异常处理机制

## 动画

**是什么？在哪用？**

- **作用**：动画制作和播放工具
- **应用场景**：
  - 需要动画效果的游戏
  - UI动画
  - 物体运动动画
  - 2D骨骼动画
- **做什么的？** 动画制作和播放工具。
- **在哪用？** 需要动画效果的游戏。

**会遇到哪些问题？用什么解决？**

- **如何选择合适的动画工具？**
  - **问题**：不同动画工具有不同特点和适用场景
  - **解决方向**：
    - **曲线动画：**
      - **HOTween：** 功能强大的补间动画库
      - **DOTween：** 性能优秀的补间动画库，推荐使用
    - **2D动画：** 
      - **Spine：** 专业的2D骨骼动画工具
      - 特点：功能强大、性能好、需要购买
    - 根据动画类型选择合适的工具

- **动画性能优化**
  - **问题**：动画可能影响性能
  - **解决方向**：
    - 优化动画计算性能
    - 使用对象池管理动画对象
    - 限制同时播放的动画数量
    - 优化动画更新频率
    - 使用GPU加速

**要点和思考方向：**
- **曲线动画：**
  - HOTween
  - DOTween
- **2D动画：** Spine
- 根据动画类型选择合适的工具
- 考虑动画性能和易用性

## 状态机

**是什么？在哪用？**

- **作用**：状态机框架，用于管理对象的状态转换
- **应用场景**：
  - 需要状态管理的系统
  - 角色状态
  - 游戏状态
  - 动画状态
- **做什么的？** 状态机框架，用于管理对象的状态转换。
- **在哪用？** 需要状态管理的系统，如角色状态、游戏状态等。

**会遇到哪些问题？用什么解决？**

- **如何选择合适的状态机框架？**
  - **问题**：不同状态机框架有不同特点
  - **解决方向**：
    - **MonsterLove：** 功能完善的状态机框架
      - 特点：支持状态进入、退出、更新接口
    - **自研状态机：** 根据项目需求定制
      - 特点：灵活、可控
    - 根据项目需求选择合适的框架

- **状态机设计**
  - **问题**：需要设计合理的状态机结构
  - **解决方向**：
    - 定义清晰的状态枚举
    - 实现状态转换规则
    - 实现状态进入、退出、更新接口
    - 处理状态转换异常
    - 优化状态机性能

**要点和思考方向：**
- **候选：** MonsterLove
- 考虑状态机框架的功能和易用性
- 设计清晰的状态转换规则

## Json

**是什么？在哪用？**

- **作用**：JSON数据序列化和反序列化工具
- **应用场景**：
  - 需要处理JSON数据的场景
  - 配置文件读取
  - 网络数据解析
  - 数据存储
- **做什么的？** JSON数据序列化和反序列化工具。
- **在哪用？** 需要处理JSON数据的场景。

**会遇到哪些问题？用什么解决？**

- **如何选择合适的JSON库？**
  - **问题**：不同JSON库有不同特点和性能
  - **解决方向**：
    - **SimpleJson：** 轻量级JSON库
      - 特点：简单易用、性能好
    - **Newtonsoft.Json：** 功能强大的JSON库
      - 特点：功能完善、支持复杂类型
    - **Unity JsonUtility：** Unity官方JSON工具
      - 特点：官方支持、性能好、功能基础
    - 根据项目需求选择合适的库

- **JSON性能优化**
  - **问题**：JSON序列化和反序列化可能影响性能
  - **解决方向**：
    - 使用高性能JSON库
    - 优化JSON数据结构
    - 使用对象池管理
    - 实现JSON缓存
    - 考虑使用二进制格式

**要点和思考方向：**
- SimpleJson
- 根据项目需求选择合适的JSON库
- 考虑JSON性能和易用性

## 更多资料
## 框架资源
* [Unity3D System Design Architecture](https://github.com/liangxiegame/QFramework) - 一个开源的Unity客户端框架。
* [Game Framework](https://github.com/EllanJiang/GameFramework)