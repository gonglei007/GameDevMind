<h2 align="center">渲染与特效</h2>
<p>
各种风格的游戏画面表现，需要各种渲染方式和特效辅助。渲染与特效系统决定了游戏的视觉风格和表现力，从写实到卡通，从2D到3D，不同的渲染技术带来不同的视觉体验。
</p>

**关键词:**<br/>
*HDR,Bloom,Toon,DOF,PBR,全局光照,描边,运动模糊*

**标签:**<br/>
*等级: 中级|高级, 阶段: 开发, 分类: 研发能力, 角色: 客户端开发|美术*

## 图谱
![图片加载中...](../../exports/3.1.5.渲染与特效.png)

## 渲染技术概览

### 全局光照（Global Illumination）

**做什么的？** 模拟真实世界的光照效果，包括直接光照和间接光照。

**在哪用？** 需要真实感光照的3D游戏场景。

**要点和思考方向：**
- **环境光遮蔽（Ambient Occlusion）：** 可增加画面光影真实感，模拟物体之间相互遮挡产生的阴影效果

### HDR

**做什么的？** High Dynamic Range（高动态范围），让画面获得更大范围的颜色和对比度。

**在哪用？** 需要更丰富色彩表现和层次感的游戏场景。

**要点和思考方向：**
- 让画面获得更大范围的颜色和对比度，让画面更有层次、更逼真

### 描边效果

**做什么的？** 为物体添加描边，用于表现物体被选中或突出显示。

**在哪用？** 需要高亮显示物体的场景，如选中物体、技能范围等。

**会遇到哪些问题？**
- 如何实现描边效果？
- 如何控制描边宽度？

**要点和思考方向：**
- **基本原理：**
  - 取得深度纹理的颜色
  - 计算深度差值，假设要绘制1像素宽度的描边
  - 深度差值小于某个值，表示这是边缘
  - 否则就绘制颜色纹理

### Bloom

**做什么的？** 使图像增加光晕效果，使其显得更加有灵气。

**在哪用？** 需要发光效果的游戏场景，如魔法效果、霓虹灯等。

**要点和思考方向：**
- **基本原理：** 将原始图像或像素颜色值模糊处理后，将模糊的结果和原始的图像像素值相加，从而得到处理后的图像

### 运动模糊

**做什么的？** 用于表现运动时，背景的模糊感。

**在哪用？** 需要表现高速运动的场景，如赛车游戏、动作游戏等。

**要点和思考方向：**
- 模拟真实世界中快速运动时产生的视觉模糊效果

### Depth of Field（景深）

**做什么的？** 用于表现视线的聚焦，模拟真实相机的景深效果。

**在哪用？** 需要突出焦点、营造氛围的场景。

**要点和思考方向：**
- 通过模糊前景和背景，突出焦点物体

### 卡通渲染

**做什么的？** 实现卡通风格的渲染效果。

**在哪用？** 需要卡通风格的游戏。

**要点和思考方向：**
- 通过特殊的着色技术实现非写实的卡通风格

### 玻璃效果

**做什么的？** 实现透明、折射、反射等玻璃材质效果。

**在哪用？** 需要玻璃、水晶等透明材质的场景。

### 屏幕空间反射

**做什么的？** 在屏幕空间内计算反射效果。

**在哪用？** 需要反射效果但性能要求较高的场景。

### 霓虹灯光晕

**做什么的？** 实现霓虹灯等发光物体的光晕效果。

**在哪用？** 赛博朋克风格、霓虹灯场景等。

### 全息效果

**做什么的？** 实现全息投影的视觉效果。

**在哪用？** 科幻风格游戏、UI显示等。

### PBR渲染

**做什么的？** 基于物理规律模拟的渲染，实现更真实的材质表现。

**在哪用？** 需要写实风格的游戏。

**要点和思考方向：**
- 基于物理规律模拟的渲染
- 使用物理材质属性（如金属度、粗糙度等）来模拟真实材质

### 渲染路径

**做什么的？** 选择不同的渲染管线来处理光照和渲染。

**在哪用？** 所有3D游戏都需要选择合适的渲染路径。

**会遇到哪些问题？**
- 如何选择合适的渲染路径？
- Forward Rendering 和 Deferred Rendering 有什么区别？

**要点和思考方向：**
- **Forward Rendering（前向渲染）：** 传统的渲染方式，兼容性好
- **延迟渲染（Deferred Rendering）：** 性能更好，但限制更多（如不支持半透明物体）

### 换装系统

**做什么的？** 实现角色的换装功能。

**在哪用？** 需要角色换装的游戏。

**会遇到哪些问题？**
- 如何处理骨骼绑定？
- 如何实现动态资源加载？

**要点和思考方向：**
- **骨骼：** 需要处理不同装备的骨骼绑定
- **动态资源加载：** 按需加载装备资源

## 更多资料
### 在线资料
* [3D Game Shaders For Beginners](https://github.com/lettier/3d-game-shaders-for-beginners)
* [Bloom](https://learnopengl.com/Advanced-Lighting/Bloom) - 一个关于Bloom效果的教程。
* [Nilo Toon URP](https://github.com/ColinLeung-NiloCat/UnityURPToonLitShaderExample) - 一个非常简单的卡通光照着色器示例，供您学习在 Unity URP 中编写自定义光照着色器。
* [Distorting Object Shapes in Screen Space](http://kylehalladay.com/blog/tutorial/2017/02/06/ObjectShapeDistortion.html) - 一个空间扭曲的全屏效果。
### 在线课程
* [GAMES202: 高质量实时渲染](https://sites.cs.ucsb.edu/~lingqi/teaching/games202.html) - 本课程将全面地介绍现代实时渲染中的关键问题与解决方法。
### 视频资料
* [Using Post-Processing to improve visuals in Unity](https://www.youtube.com/watch?v=_PzYAbPpK8k&t=489s) - 在本视频中，我们将了解如何使用 Unity 中的后处理堆栈来显着改善项目中的视觉效果。
* [Shader Basics, Blending & Textures • Shaders for Game Devs [Part 1]](https://www.youtube.com/watch?v=kfM-yu0iQBk) 
* [Healthbars, SDFs & Lighting • Shaders for Game Devs [Part 2]](https://www.youtube.com/watch?v=mL8U8tIiRRg)
* [Normal Maps, Tangent Space & IBL • Shaders for Game Devs [Part 3]](https://www.youtube.com/watch?v=E4PHFnvMzFc)
* [Bloom & Glow Post Process Effect - Shader Graph Basics - Episode 56](https://www.youtube.com/watch?v=kRIUsIO16yI) - 在此视频中，展示了如何创建光晕效果，其中场景的明亮部分会产生明亮的光晕。
