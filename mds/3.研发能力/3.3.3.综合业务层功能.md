<h2 align="center">业务层功能系统</h2>
<p>
大多数网游都有的业务层的系统。这些系统构成了游戏的核心玩法，包括用户系统、聊天系统、匹配系统、排行系统、任务系统、好友系统、成就系统、活动系统、技能系统等。
</p>

**关键词:**<br/> 
*用户系统，聊天系统，匹配系统，排行系统，任务系统，好友系统，成就系统，活动系统，技能系统,SLG,Racing,FPS,Puzzle,MMORPG,CCG,TCG,RPG,Action,Sandbox,RTS,Sports*

**标签:**<br/>
*等级: 中级, 阶段: 开发, 分类: 研发能力, 角色: 客户端开发|服务端开发|策划*

## 图谱
![图片加载中...](../../exports/3.3.业务层功能系统.png)

## 功能系统概览

### 游戏分类

**做什么的？** 不同游戏类型需要不同的业务功能。

**在哪用？** 根据游戏类型设计相应的业务功能。

**要点和思考方向：**
- SLG（策略游戏）
- Racing（赛车游戏）
- FPS（第一人称射击）
- Puzzle（益智游戏）
- MMORPG（大型多人在线角色扮演）
- CCG/TCG（集换式卡牌游戏）
- RPG（角色扮演游戏）
- Action（动作游戏）
- Sandbox（沙盒游戏）
- RTS（即时战略游戏）
- Sports（体育游戏）

### 用户系统

**做什么的？** 处理用户登录和支付。

**在哪用？** 所有需要用户认证和支付的游戏。

**会遇到哪些问题？**
- 如何管理登录状态和流程？
- 如何处理支付流程和异常？

**要点和思考方向：**
- **登录：**
  - 状态与流程
  - 异常处理
- **支付：**
  - 状态与流程
  - 异常处理
- **要点：** 数据验证

### 聊天系统

**做什么的？** 玩家之间的交流系统。

**在哪用？** 需要玩家交流的游戏。

**会遇到哪些问题？**
- 如何实现关键词过滤？
- 如何防止刷屏？
- 如何实现同步刷新？

**要点和思考方向：**
- **功能：**
  - **频道：**
    - 点对点
    - 广播
  - 禁言
  - 历史聊天数据（通常游戏不会长期保存聊天数据）
- **解决问题：**
  - 关键词过滤
  - 防止快速发言刷屏
  - 有同步刷新机制

### 匹配系统

**做什么的？** 将玩家匹配到一起进行游戏。

**在哪用？** 需要匹配玩家的游戏，如MOBA、FPS等。

**会遇到哪些问题？**
- 如何处理海量用户的匹配？
- 如何平衡匹配速度和匹配质量？

**要点和思考方向：**
- **解决问题：** 海量用户的匹配
- **方案：**
  - 玩家请求匹配后进入队列等待
  - 建立多个匹配队列分组，排队的玩家进行分组排队
  - 按匹配条件为房间创建分组
  - 基于条件轮训房间，分配玩家到房间
  - 玩家匹配逻辑：在网络延迟和竞争性之间做出最佳平衡
- **候选第三方：**
  - 亚马逊 GameLift

### 排行系统

**做什么的？** 显示玩家的排名。

**在哪用？** 需要排行榜的游戏。

**会遇到哪些问题？**
- 排行数据的刷新时机如何控制？

**要点和思考方向：**
- **解决问题：** 排行数据的刷新时机

### 任务系统

**做什么的？** 管理游戏任务。

**在哪用？** 有任务系统的游戏。

**要点和思考方向：**
- **任务链：** 任务通常是链式结构的，要根据前置任务的状态来决定新任务是否可见

### 成就系统

**做什么的？** 记录和展示玩家的成就。

**在哪用？** 有成就系统的游戏。

**要点和思考方向：**
- **功能：**
  - 分组
  - 进度
  - 等级
  - 状态

### 好友系统

**做什么的？** 管理玩家的好友关系。

**在哪用？** 需要社交功能的游戏。

**要点和思考方向：**
- **功能：**
  - 好友关系
  - 匹配好友

### 活动系统

**做什么的？** 管理游戏活动。

**在哪用？** 需要运营活动的游戏。

**会遇到哪些问题？**
- 如何让运营人员可以自己配置更新活动？

**要点和思考方向：**
- **解决问题：** 运营人员要可以自己配置更新活动时间和内容
- **活动举例：**
  - 新手登入 - 玩家头N天登录，每天给不同的奖励
  - 每日上线 - 计算玩家每天在线时长，根据时长给不同的奖励
  - 等级奖励 - 玩家达到不同等级，给不同的奖励
  - 每日任务 - 每天去不同系统达成对应的目标，给对应的奖励
  - 每日虚宝 - 每天给不同的奖励
  - 日常返利 - 充值到特定档位，额外赠送对应的奖励
  - 礼包 - 可随时定制的优惠商品

### 技能系统

**做什么的？** 管理角色的技能。

**在哪用？** 有技能系统的游戏。

**会遇到哪些问题？**
- 如何设计技能属性？
- 如何处理技能队列？

**要点和思考方向：**
- **技能属性：**
  - 释放条件
  - 释放时机
  - 技能目标
  - 技能范围
  - 技能效果
- **技能队列：** 管理技能的释放顺序
- **游戏类型：**
  - 即时
  - 回合

### 相关系统

**做什么的？** 与业务层功能相关的其他系统。

**要点和思考方向：**
- [3.3.1.摄像机控制](./3.3.1.摄像机控制.md)
- [3.3.2.角色](./3.3.2.角色.md)

## 更多资料
