<h2 align="center">数学</h2>
<p>
游戏开发中的很多地方都会用到数学，比如图形、物理、声音、数值、概率等等。
</p>

**关键词:**<br/>
*向量,矩阵,三角函数,对数,几何,随机,点乘,叉乘,斐波那契数列,欧拉角,四元数,Noise,傅里叶变换*

----
## 几何与线性代数

### 坐标

### 是什么？在哪用？

- **类型**：
  - **齐次坐标**：用于表示点和方向，便于矩阵运算
  - **笛卡尔坐标**：最常用的坐标系统
  - **极坐标**：用距离和角度表示位置

### 会遇到哪些问题？用什么解决？

- **坐标系差异**
  - **问题**：坐标系分左手坐标系和右手坐标系，不同的引擎、工具可能会采用不同的坐标系
  - **解决方向**：这时候可能会涉及到坐标系转换的事情

### 向量

### 是什么？在哪用？

- **向量加法和减法**
  - **应用举例**：力的叠加

- **标量与向量相乘**：缩放向量

- **法线**：垂直于表面的向量

- **切线**
  - **应用举例**：通过两个点的切线，判断一个曲线的上行、下行拐点

- **点乘**
  - **应用**：计算两个向量的夹角
  - **应用举例**：
    - 地形编辑器中的平滑笔刷，需要先算两个面之间的夹角，再决定如何平滑
    - 通过计算NPC的正向视野来判断是否能看到目标

- **叉乘**
  - **应用**：
    - 计算一个面的法向
    - 计算"左侧"或"右侧"的方向
  - **应用举例**：求一个面的垂直方向

- **向量标准化**
  - **应用**：
    - 获取一个向量的标准向量，让其它向量跟它运算的时候只有其"方向"起作用
    - **举例**：获取玩家角色对目标角色的方向的向量，在这个方向上算加速度，这时候就可以考虑先标准化，再乘上加速度标量

### 欧拉角

### 是什么？在哪用？

- **向量**：
  - **Roll**：翻滚角
  - **Pitch**：俯仰角
  - **Yaw**：偏航角

- **应用**：物体做相对于自身的轴的转动的时候，可以用上欧拉角运算

- **应用举例**：第一人称视角摄像机的转动控制

### 四元数

### 是什么？在哪用？

- **说明**：用于表示旋转，避免万向锁问题
- **应用**：3D旋转计算，比欧拉角更稳定

### 矩阵运算

### 是什么？在哪用？

- **矩阵的加减运算**：基本的矩阵运算

- **矩阵乘法**
  - **应用举例**：
    - **平移**：通过矩阵乘法实现位置变换
    - **旋转**：通过矩阵乘法实现旋转变换
    - **缩放**：通过矩阵乘法实现缩放变换

- **矩阵转置**
  - **应用举例**：左右手坐标系数据的转换

### 曲线

### 是什么？在哪用？

- **贝塞尔曲线**
  - **作用**：用于生成平滑曲线
  - **应用举例**：赛车游戏中自动生成一段赛道，选择几个拐点，然后就可以用贝塞尔曲线来生成赛道的路径了

## 代数

### 三角函数

### 是什么？在哪用？

- **sin（正弦）**
  - **应用举例**：模拟波的效果，比如波浪

- **cos（余弦）**
  - **应用举例**：求夹角

- **tan（正切）**
  - **应用举例**：求切线

### 对数

### 是什么？在哪用？

- **应用**：让一个变化的变化率逐渐变慢，让感受更自然
- **举例**：
  - 声音的衰减
  - 摄像机的跟随

### 斐波那契数列（Fibonacci sequence）

### 是什么？在哪用？

- **应用举例**：帮助策划设计数值的进阶

### 递归

### 是什么？在哪用？

- **应用举例**：遍历文件目录

### 其它

### 是什么？在哪用？

- **绝对值（Abs）**：获取数值的绝对值

- **Floor**
  - **作用**：向下取整

- **Ceil**
  - **作用**：向上取整

## 概率论

### 随机

### 正态分布

### 是什么？在哪用？

- **说明**：正态分布是统计学中的一种数据分布，它可以帮助开发者更好地模拟真实世界的游戏行为

- **应用**：
  - 可以用来帮助游戏设计者更准确地确定游戏中的随机变量，比如游戏的武器使用率、掉落率、玩家技能分布、玩家等级分布等
  - 可以用来预测AI模型的行为，使其能够更准确地模拟真实世界中的行为
  - 可以帮助游戏开发者确定动画曲线、物理效果、物体相互作用等

### 会遇到哪些问题？用什么解决？

- **如何生成更"可控的"随机？**
  - **问题**：即随机比较准确的符合分布概率
  - **解决方向**：使用Shuffle Bag算法

### 应用

### 是什么？在哪用？

- **游戏的随机事件**
  - **概率分布**：控制随机事件的发生概率

- **游戏的AI决策**：基于概率的AI行为选择

- **游戏的赔率**
  - **概率分布**：计算游戏中的赔率和期望值

- **游戏的数据分析**
  - **假设检验**：验证游戏设计假设
  - **回归分析**：分析游戏数据之间的关系

## Noise

### 是什么？在哪用？

- **类型**：
  - **Perlin noise**：生成平滑的随机噪声
  - **Gradient Noise**：梯度噪声
  - **Value Noise**：值噪声

- **应用**：一些自然效果表现可以用Noise算法来生成，比如随机地形，云层效果等

## 傅里叶变换

### 是什么？在哪用？

### 图像处理

- **特征提取**：游戏中的图像通常是由像素组成的，傅里叶变换可以将这些像素转换成频率信息，从而提取出图像中的特征，比如轮廓、纹理、边缘等
  - 这些特征可以用来检测和识别图像中的物体，比如检测游戏中玩家的行为

- **抗锯齿和模糊问题**
  - **原理**：傅里叶变换可以将3D模型的曲面转换成频率信息，从而使更多的细节更加准确地显示出来，这就是抗锯齿的原理
  - **特点**：可以更快速地渲染模型，从而减少模糊的现象

- **图像压缩**：压缩图像数据

- **图像增强**：处理图片，消除噪点并增强图像质量

### 声音处理

### 是什么？在哪用？

- **作用**：可以用来处理声音，比如游戏中的音乐和音效，它可以将声音信号转换成频率信息，从而提取出声音的特征，比如声音的频率、响度、音色等

- **应用举例**：可以根据声音特征来控制游戏中声音的大小、音色等

## 离散数学

### 是什么？在哪用？

- **内容**：
  - 离散数学
  - 计算几何
  - 抽象代数
  - 组合学

- **作用**：可以用来解决游戏中的几何问题

- **应用举例**：
  - 确定游戏中不同物体之间的位置关系，以及计算游戏地图上每个像素在X、Y方向上的偏移量，从而解决游戏中的几何问题
  - 解决计算机网络中的路由问题，从而更好地实现远程游戏多人协作游戏

## 更多资料
### 在线资料
* [Using Math to Develop Excellent Video Games](https://www.gamedesigning.org/learn/game-development-math/)
* [3D Math Primer for Graphics and Game Development](https://gamemath.com/book/intro.html)
* [Randomness and Game Design](https://www.gamedeveloper.com/design/randomness-and-game-design)
* [Perlin noise](https://www.scratchapixel.com/lessons/procedural-generation-virtual-worlds/perlin-noise-part-2/perlin-noise)
* [Noise Generation](https://www.gamedev.net/tutorials/programming/math-and-physics/noise-generation-r3793/)
* [Noise and Turbulence](https://mrl.cs.nyu.edu/~perlin/doc/oscar.html)
* [空间射线与三角形相交算法的两种实现](https://cloud.tencent.com/developer/article/1589424)
* [Tips from a combat designer: Fibonacci game design](https://www.gamedeveloper.com/design/tips-from-a-combat-designer-fibonacci-game-design)
* [Using Fibonacci for Game Balance](https://adamrusselldesign.wordpress.com/2012/06/25/using-fibonacci-for-game-balance/)
### 电子文档
* [Advanced Randomness Techniques for Game AI](http://www.gameaipro.com/GameAIPro/GameAIPro_Chapter03_Advanced_Randomness_Techniques_for_Game_AI.pdf) (pdf)
### 视频资料
* [Vectors & Dot Product • Math for Game Devs [Part 1]](https://www.youtube.com/watch?v=MOYiVLEnhrw)
* [Spaces & Cross Product • Math for Game Devs [Part 2]](https://www.youtube.com/watch?v=XiwEyopOMqg)
* [How I Made The World with SINE](https://www.youtube.com/watch?v=u1pRapBEHlU)
