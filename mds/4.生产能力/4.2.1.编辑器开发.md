<h2 align="center">编辑器开发</h2>
<p>
虽然现在越来越多的工具都已经由引擎或者第三方实现了，但很多团队仍然需要为自己产品定制编辑器和小工具，以适配特定的数据结构、工作流和协作方式。本章节聚焦「怎么设计一个好用的游戏编辑器」的原则和关键功能点。
</p>

**关键词:**<br/>
*所见即所得,Undo/Redo,视图,面板,工程文件,插件系统*

## 图谱
![图片加载中...](../../exports/4.2.1.编辑器开发.png?raw=true)

## 设计原则

### 所见即所得

**做什么的？**  
让策划、美术在编辑器中看到的效果，与游戏中真实效果尽可能一致，减少反复调试和来回切换。

**要点与思考方向：**
- 预览视图尽量使用与运行时一致的渲染管线与资源
- 对关键参数（位置、尺寸、颜色、动画曲线等）修改后能实时反馈
- 必要时提供「运行时模拟」功能（如播放特效、实际物理模拟）

## 基础功能模块

### 文件与数据

**做什么的？**  
负责数据的存储、加载和工程管理。

**要点：**
- 数据存储 / 加载
  - 支持项目工程文件（工程结构、引用资源路径等）
  - 支持增量保存和自动备份 / 版本标记
- 支持与游戏工程中实际使用的数据格式打通（如 JSON、二进制、自定义格式）

### 编辑能力

**做什么的？**  
提供高效、安全的编辑体验。

**核心能力：**
- **Undo / Redo：**
  - 使用命令模式或操作日志实现可撤销 / 重做
  - 支持多步撤销
- 批量操作：批量重命名、批量修改属性等

### 构建与导出

**做什么的？**  
将编辑器中的数据转化为游戏工程可用的资源。

**要点：**
- 资源生成：
  - 生成游戏工程中可用的数据文件
  - 支持一键批量构建 / 按模块构建
- 构建日志与错误提示：清晰标明出错资源和原因

### 视图与窗口布局

**做什么的？**  
组织编辑器中的各类视图与面板。

**典型视图：**
- 编辑视图（主工作区，如场景视图、时间轴视图等）
- 预览视图（运行效果预览）

### 面板与属性编辑

**做什么的？**  
为选中对象提供属性查看与编辑界面。

**要点：**
- 属性面板：支持多类型字段（数值、枚举、颜色、曲线、列表等）
- 支持多选编辑与重置默认值

## 编辑器开发要点

### 候选 GUI 或框架

**做什么的？**  
选择合适的技术栈来开发独立编辑器或工具。

**常见选择：**
- Dotnet
- wxWidgets
- Qt

**思考方向：**
- 跨平台需求（Windows / macOS / Linux）
- 与现有引擎或项目技术栈的契合度

### 插件系统

**做什么的？**  
让编辑器可以被扩展，而不用每次改动都动核心代码。

**要点：**
- 支持通过插件添加新面板、新工具、新导出流程
- 通过脚本语言（如 C#、Lua、Python 等）或动态库扩展

### 交互设计

**做什么的？**  
保证编辑器操作流畅、高效，降低学习成本。

**要点：**
- 菜单（主菜单、上下文菜单）
- 快捷键（为高频操作设计快捷键）
- 工具栏（常用操作按钮，图标清晰）

### 工程与文件组织

**做什么的？**  
管理编辑器层面的「项目」概念。

**要点：**
- 工程文件：记录当前项目的资源路径、设置等
- 支持多项目切换、导入 / 导出配置

## 快速开发方案

### 轻量工具的快速实现

**做什么的？**  
针对需求较轻的场景，快速搭建 GUI 工具，而不必从零开发桌面应用。

**候选技术：**
- electron 等 Web 技术栈

**应用场景：**
- 轻量的数据编辑器
- 批处理工具（重命名、路径转换、打包脚本可视化等）

## 应用举例

### 场景编辑器

**做什么的？**  
用于搭建关卡与场景，摆放物体、配置触发器等。

### 特效编辑器

**做什么的？**  
用于制作粒子特效、屏幕特效等，可实时预览与调参数。

### UI 编辑器

**做什么的？**  
用于可视化搭建 UI 布局和交互逻辑。

## 更多资料
* [Does the Command Pattern Require Undo?](https://codinghelmet.com/articles/does-the-command-pattern-require-undo)