<h2 align="center">引擎的基本功能系统</h2>
<p>
游戏引擎为游戏内容制作和开发提供了一整套基础能力，本节聚焦那些「几乎所有项目都会用到」的核心系统：UI、GamePlay、特效、场景与渲染。重点是它们各自解决什么问题、在哪些地方会踩坑，以及在生产流程中的角色，而不是具体 API 细节。
</p>

**关键词:**<br/>
*UI系统,GamePlay功能,特效,场景,渲染,可见性,事件系统,Shader*

## 图谱
![图片加载中...](../../exports/4.1.3.引擎的基本功能系统.png?raw=true)

## 总体作用

**做什么的？**  
提供与「表现」和「互动」相关的基础功能，让美术和程序站在一个统一的技术地基上协作。

**在生产中的意义：**
- 复用成熟能力，避免每个项目都从零搭建底层
- 通过统一的系统接口（UI、事件、渲染、场景等），让工具链和自动化流程更容易搭建

## UI 系统

### 作用与典型形态

**做什么的？**  
负责游戏中的信息展示与交互，是玩家与游戏交互的第一入口。

**典型形式：**
- **GUI：**  
  - 适用电脑、手机等交互能力丰富的平台  
  - 窗口、按钮、列表、提示等常规组件
- **Menu：**  
  - 适用于主机游戏这种手柄操控的平台  
  - 有些游戏类型也可以采用菜单化交互（如主菜单、模式选择、设置页）
- **HUD（抬头显示）：**  
  - 屏幕上的信息呈现，不需要有 Input 交互  
  - 例如血条、弹药数、小地图、状态图标等

### 解决的问题

- **渲染：**
  - 层级管理（谁在上、谁在下，避免遮挡错乱）
  - 图集管理（减少 DrawCall，统一打包）
- **资源管理：** UI 资源的加载、卸载、缓存策略
- **对象管理：** UI 节点的创建、销毁与复用（对象池）
- **交互：**
  - 事件系统（点击、拖拽、悬停、键盘/手柄输入映射）
- **部件化：**
  - 可复用组件（按钮、进度条、列表单元格等）

### 编辑能力

- 可视化 UI 编辑器（所见即所得）
- 布局系统（锚点、对齐、自动适配不同分辨率）

## GamePlay 功能

### 作用

**做什么的？**  
负责游戏整体的控制与管理，是「游戏逻辑层」的核心能力。

### 典型能力

- **游戏流程 / 状态管理：**
  - 标题 → 登陆 → 大厅 → 战斗 → 结算 → 返回 等状态流转
  - 支持暂停、恢复、重开等
- **脚本系统：**
  - 使用 Lua、C# 脚本等驱动游戏逻辑
  - 支持热更或快速迭代
- **世界加载：**
  - 场景 / 地图的加载与卸载
  - 异步加载、分块加载、Streaming World 等
- **事件 / 消息系统：**
  - 模块间解耦，通过消息或事件通知
  - 例如：角色死亡事件通知 UI、音效、任务系统
- **静态世界内容：**
  - 地图、机关、出生点、刷怪点等静态配置
- **动态游戏对象：**
  - 怪物、道具、可破坏物、NPC 等运行时生成的对象

## 特效系统

### 作用

**做什么的？**  
负责各种视觉效果的表现，是「爽感」「反馈感」的重要来源。

### 典型效果

- Light Mapping & 阴影
- HDR
- 各类 Post Effects（后处理）：
  - Bloom、色调映射、景深、运动模糊、色偏等

### 编辑能力

- 特效编辑器（粒子系统、轨迹、曲线控制）
- 与时间轴 / 动画系统联动（例如技能释放时的特效时序）

## 场景系统

### 作用

**做什么的？**  
管理场景中的对象与空间结构，是「世界」这一概念在引擎中的承载者。

### 解决的问题

- 管理场景中的对象（放置、启用/禁用、分组）
- 可见性管理（哪些东西该被渲染，哪些可以被裁剪）

### 典型技术

- **Occlusion & PVS：**  
  - Occlusion Culling（遮挡剔除）  
  - PVS（Potentially Visible Set），预计算哪个区域能看到哪些物体
- **LOD 系统：**
  - 不同距离使用不同精度模型/贴图
- **BSP Tree 等空间划分结构：**
  - 用于快速查询、碰撞检测和渲染裁剪

### 编辑能力

- 场景编辑器：支持摆放物体、设置区域、配置触发器
- 分层组织：方便大场景的管理与协作

## 渲染系统

### 作用

**做什么的？**  
负责所有可见事物的最终呈现，是基础中的基础。

### 典型能力

- **材质 & Shader：**
  - 材质系统（PBR / 非 PBR）
  - Shader 管线与可扩展机制（自定义 Shader、Shader Graph 等）
- **光照：**
  - 静态光照（光照贴图、预计算 GI）
  - 动态光照（动态阴影、实时反射等）
- **摄像机：**
  - 多摄像机支持（主摄像机、UI 摄像机、回放摄像机等）
  - 视口设置（分屏、画中画）
- **贴图：**
  - 纹理导入、压缩、Mipmap、图集管理等
- **图形驱动接口：**
  - 封装底层图形 API（如 DirectX / OpenGL / Vulkan / Metal 等）

### 与生产的关系

- 决定了美术资源的技术规格（贴图格式、大小、Shader 限制等）
- 与性能优化高度相关（DrawCall、填充率、带宽等）

## 更多资料