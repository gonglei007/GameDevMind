<h2 align="center">DevOps</h2>
<p>
在游戏开发过程中，要不断地出数据和产品的版本来进行测试、调试和发布，这些过程如果全部依赖人工操作是非常低效且容易出错的。
通过建设 DevOps 体系（CI/CD、版本生产线、工程管理等），可以用自动化工具链和规范化流程，大幅提升项目的生产效率和稳定性。
</p>

**关键词:**<br/>
*CI,CD,DevOps,Maven,Jenkins,出包生产线,工程管理*

## 图谱
![图片加载中...](../../exports/4.3.3.DevOps.png?raw=true)

## 持续集成（CI）

### 作用

**做什么的？**  
最大化地实现生产自动化，降低人力投入，让每次提交都尽快得到「可运行、可测试」的反馈。

### 应用举例

- **游戏包自动构建：**
  - 实时为 QA 提供可测试版本
  - 及时准备可发布版本
- **自动测试：**
  - **作用：** 尽快发现和定位问题
  - **测试内容：** 单元测试、性能测试等
  - **方式：** 每次有内容提交，自动运行测试单元，检查提交，尽快发现问题
- **数据发布自动化：**
  - 自动提交、发布配置、活动表、资源清单等
- **运维辅助：**
  - 批量服务器管理（更新、停服、开服、重启、检查等）

## 持续交付（CD）

### 解决问题

**做什么的？**  
保证代码从提交到交付测试 / 上线之间的流程尽可能自动化和可重复。

**典型目标：**
- 持续发布：
  - 代码提交后，可以自动 / 手动触发出包，交付 QA 进行测试
  - 批量出正式发布版本并归档
- 发布自动化：
  - 尽量减少人工干预步骤，降低出错概率

### 辅助工具

- **候选：**
  - fastlane：辅助 iOS 和 Android 应用程序自动化测试版部署和发布

## 版本交付生产线

### 目标

**做什么的？**  
搭建一条「可以实现批量快速出包」的统一生产线。

### 解决的问题

- 渠道多、平台多，对接耗时耗力：
  - 产品出包
  - 对接平台（账户、支付）SDK
- 需要做到：
  - 批量
  - 快速

### 典型生产线流程

- 更新资源、数据  
- 构建资源  
- 生成 bundle  
- 生成资源清单  
- 应用渠道差异信息  
- 构建安装包  
- 输出到指定位置（本地或制品仓库）

## 生产线相关工具

### 构建工具

**作用：**  
将构建工作流程化、自动化。

**应用举例：**
- 游戏包构建
- 资源构建

**候选：**
- Ant  
- Gradle  
- Maven 等

### 可编程工具

**做什么的？**  
为生产线提供灵活的、可脚本化的处理能力。

**举例：**
- 图片处理：imagemagick
- 视频处理：ffmpeg
- 文件处理：grep 等
- 音频处理：各类音频批处理工具

### 持续集成工具

**候选：**
- Jenkins  
- Buddy  
- Buildkite  
- CircleCI  
- GoCD 等

## 工程管理

### 解决问题

**做什么的？**  
通过合理的工程管理和依赖管理，解决大项目中的分工、协作、复用与依赖问题。

**典型关注点：**
- 分工
- 协作
- 复用
- 依赖管理

### 项目对象模型

**做什么的？**  
将一个大的工程模块化；做好模块的部署；管理好各个模块之间的依赖。

**候选：**
- Maven 等

**功能点：**
- 模块化 / 对象化
- 坐标：
  - 版本
  - 分支
- 依赖描述与管理
- 构建与发布流程定义

## 更多资料
### 视频资料
* [Setting Up a Build Server for Unity with Jenkins](https://www.youtube.com/watch?v=4J3SmhGxO1Y) - 一个关于如何用Jenkins搭建一个Unity项目构建服务器。
* [Unite 2015 - Continuous Integration with Unity](https://www.youtube.com/watch?v=kSXomLkMR68) - 了解设置与 Unity 持续集成的步骤，包括源代码控制、使用 Unity Cloud Build、使用 Unity 测试工具进行测试、将构建分发到 HockeyApp 或 Dropbox 等服务、使用 FAKE 编写命令行构建脚本以及升级到您自己的 CI 服务器与 TeamCity 一起用于更高级的场景。
